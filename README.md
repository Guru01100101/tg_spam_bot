# tg_spam_bot

Bot for telegram chats or groups for deleting spam messages

## üöÄ –§—É–Ω–∫—Ü—ñ—ó

- **–ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–µ –≤–∏–¥–∞–ª–µ–Ω–Ω—è —Å–ø–∞–º—É** ‚Äî –≤–∏–¥–∞–ª—è—î –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è –∑ –∑–∞–±–æ—Ä–æ–Ω–µ–Ω–∏–º–∏ —Å–ª–æ–≤–∞–º–∏/–ø–∞—Ç–µ—Ä–Ω–∞–º–∏
- **–ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–∏–π –º‚Äô—é—Ç –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ–≤** ‚Äî –ø—ñ—Å–ª—è –ø–æ—Ä—É—à–µ–Ω–Ω—è –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –æ—Ç—Ä–∏–º—É—î –º‚Äô—é—Ç (—Ç—ñ–ª—å–∫–∏ —á–∏—Ç–∞–Ω–Ω—è) –Ω–∞ –∑–∞–¥–∞–Ω–∏–π –ø–µ—Ä—ñ–æ–¥
- **–ì–Ω—É—á–∫–µ –±–ª–æ–∫—É–≤–∞–Ω–Ω—è** ‚Äî –∞–¥–º—ñ–Ω—ñ—Å—Ç—Ä–∞—Ç–æ—Ä –º–æ–∂–µ –∑–∞–±–∞–Ω–∏—Ç–∏ –Ω–∞ –æ–∫—Ä–µ–º–∏–π –ø–µ—Ä—ñ–æ–¥ –∞–±–æ –∑–Ω—è—Ç–∏ –º‚Äô—é—Ç —á–µ—Ä–µ–∑ –∞–¥–º—ñ–Ω-–ø–∞–Ω–µ–ª—å
- **–ê–¥–º—ñ–Ω-–ø–∞–Ω–µ–ª—å –∑ –º–µ–Ω—é** ‚Äî –∫–µ—Ä—É–≤–∞–Ω–Ω—è —á–µ—Ä–µ–∑ —ñ–Ω–ª–∞–π–Ω-–∫–Ω–æ–ø–∫–∏
- **–ü–µ—Ä–µ—Å–∏–ª–∞–Ω–Ω—è –≤–∏–¥–∞–ª–µ–Ω–∏—Ö –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω—å –∞–¥–º—ñ–Ω—É(–∞–º)** ‚Äî —ñ–∑ –∫–Ω–æ–ø–∫–∞–º–∏ ¬´–ó–∞–±–∞–Ω–∏—Ç–∏¬ª / ¬´–ü–æ–≤–µ—Ä–Ω—É—Ç–∏¬ª
- **–ì–Ω—É—á–∫–∞ —Ñ—ñ–ª—å—Ç—Ä–∞—Ü—ñ—è (regex)** ‚Äî –±–∞–∑–æ–≤—ñ –ø–∞—Ç–µ—Ä–Ω–∏ —É `filters.json` + –¥–∏–Ω–∞–º—ñ—á–Ω—ñ —É `patterns.json`
- **–ö—ñ–ª—å–∫–∞ –∞–¥–º—ñ–Ω—ñ—Å—Ç—Ä–∞—Ç–æ—Ä—ñ–≤** ‚Äî –∑ `.env` —ñ –¥–∏–Ω–∞–º—ñ—á–Ω–æ –¥–æ–¥–∞–Ω—ñ; –∑—Ä—É—á–Ω–µ –∫–µ—Ä—É–≤–∞–Ω–Ω—è —á–µ—Ä–µ–∑ –ø–∞–Ω–µ–ª—å
- **–ö–æ–º–∞–Ω–¥–∞ `my_id`** ‚Äî –ø–æ–∫–∞–∑—É—î –≤–∞—à Telegram ID —Ç–∞ —Å—Ç–∞—Ç—É—Å

## üîß –ê–¥–º—ñ–Ω-–ø–∞–Ω–µ–ª—å

### –ì–æ–ª–æ–≤–Ω–µ –º–µ–Ω—é

–í–∏–∫–æ—Ä–∏—Å—Ç–∞–π—Ç–µ –∫–æ–º–∞–Ω–¥—É `/admin`, —â–æ–± –≤—ñ–¥–∫—Ä–∏—Ç–∏ –≥–æ–ª–æ–≤–Ω–µ –º–µ–Ω—é –∑ –∫–Ω–æ–ø–∫–∞–º–∏:

- üìã –£–ø—Ä–∞–≤–ª—ñ–Ω–Ω—è —Å–ª–æ–≤–∞–º–∏ ‚Äî –¥–æ–¥–∞–≤–∞–Ω–Ω—è/–≤–∏–¥–∞–ª–µ–Ω–Ω—è/–ø–µ—Ä–µ–≥–ª—è–¥ —Å–ø–∏—Å–∫—É
- üëë –£–ø—Ä–∞–≤–ª—ñ–Ω–Ω—è –∞–¥–º—ñ–Ω—ñ—Å—Ç—Ä–∞—Ç–æ—Ä–∞–º–∏ ‚Äî –¥–æ–¥–∞–≤–∞–Ω–Ω—è/–≤–∏–¥–∞–ª–µ–Ω–Ω—è, –¥–æ–¥–∞—Ç–∏ –∞–¥–º—ñ–Ω—ñ—Å—Ç—Ä–∞—Ç–æ—Ä—ñ–≤ —á–∞—Ç—É
- üìä –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ ‚Äî –∑–≤–µ–¥–µ–Ω–∞ —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—è –ø—Ä–æ —Ñ—ñ–ª—å—Ç—Ä–∏ —Ç–∞ –∞–¥–º—ñ–Ω—ñ—Å—Ç—Ä–∞—Ç–æ—Ä—ñ–≤
- üÜî –ú—ñ–π ID ‚Äî –ø–æ–∫–∞–∑—É—î –≤–∞—à Telegram ID —ñ —Å—Ç–∞—Ç—É—Å

### –ü–µ—Ä–µ—Å–∏–ª–∞–Ω–Ω—è –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω—å

–ü—ñ—Å–ª—è –≤–∏–¥–∞–ª–µ–Ω–Ω—è —Å–ø–∞–º-–ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è –±–æ—Ç –∑–±–µ—Ä—ñ–≥–∞—î –≤—Å—é —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—é –ø—Ä–æ –Ω—å–æ–≥–æ —Ç–∞ –≤—ñ–¥–ø—Ä–∞–≤–ª—è—î –∞–¥–º—ñ–Ω—ñ—Å—Ç—Ä–∞—Ç–æ—Ä–∞–º –¥–µ—Ç–∞–ª—å–Ω–∏–π –∑–≤—ñ—Ç —ñ–∑ –∫–Ω–æ–ø–∫–∞–º–∏ –∫–µ—Ä—É–≤–∞–Ω–Ω—è:

- üö´ –ó–∞–±–∞–Ω–∏—Ç–∏ ‚Äî –±–∞–Ω –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞ –Ω–∞ –∑–∞–¥–∞–Ω–∏–π –ø–µ—Ä—ñ–æ–¥ (–±–∞–Ω–∏—Ç—å –ø–æ–≤–Ω—ñ—Å—Ç—é, –≤–∏–¥–∞–ª—è—î –∑ –≥—Ä—É–ø–∏)
- ‚úÖ –ü–æ–≤–µ—Ä–Ω—É—Ç–∏ ‚Äî –ø–æ–≤–µ—Ä—Ç–∞—î –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è –≤ —á–∞—Ç —Ç–∞ –∑–Ω—ñ–º–∞—î –º‚Äô—é—Ç (–∫–æ—Ä–∏—Å—Ç—É–≤–∞—á –º–æ–∂–µ –∑–Ω–æ–≤—É –ø–∏—Å–∞—Ç–∏)

## üß† –°–∏—Å—Ç–µ–º–∞ —Ñ—ñ–ª—å—Ç—Ä–∞—Ü—ñ—ó

- **–ë–∞–∑–æ–≤—ñ —Ñ—ñ–ª—å—Ç—Ä–∏** –∑–±–µ—Ä—ñ–≥–∞—é—Ç—å—Å—è —É —Ñ–∞–π–ª—ñ `filters.json` (—Ä–µ–≥—É–ª—è—Ä–Ω—ñ –≤–∏—Ä–∞–∑–∏), –∑–∞–≤–∞–Ω—Ç–∞–∂—É—é—Ç—å—Å—è –ø—Ä–∏ —Å—Ç–∞—Ä—Ç—ñ
- **–î–∏–Ω–∞–º—ñ—á–Ω—ñ —Ñ—ñ–ª—å—Ç—Ä–∏** –∑–±–µ—Ä—ñ–≥–∞—é—Ç—å—Å—è —É `patterns.json` (—Å—Ç–≤–æ—Ä—é—î—Ç—å—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ) —ñ –∫–µ—Ä—É—é—Ç—å—Å—è —á–µ—Ä–µ–∑ –∞–¥–º—ñ–Ω-–ø–∞–Ω–µ–ª—å
- –ü—ñ–¥—Ç—Ä–∏–º—É—é—Ç—å—Å—è –∑–∞–º—ñ–Ω–∏ –∫–∏—Ä–∏–ª–∏—á–Ω–∏—Ö/–ª–∞—Ç–∏–Ω—Å—å–∫–∏—Ö —Å–∏–º–≤–æ–ª—ñ–≤ (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥, ¬´—Ä/p¬ª, ¬´—É/y¬ª, ¬´–æ/o¬ª, ¬´–µ/e¬ª, ¬´–∞/a¬ª —Ç–æ—â–æ)
- –í–∂–µ –º—ñ—Å—Ç–∏—Ç—å –ø–∞—Ç–µ—Ä–Ω–∏ –¥–ª—è ¬´—Ä—É–±–ª—å/—Ä—É–±–ª–∏/—Ä—É–±–ª–µ–π/—Ä—É–±–ª—è/—É–¥–∞–ª–µ–Ω–Ω–æ¬ª, —Å–∏–º–≤–æ–ª—ñ–≤ ¬´‚ÇΩ¬ª —Ç–∞ ¬´$¬ª (–≤—Ä–∞—Ö–æ–≤—É—é—á–∏ –≤–∞—Ä—ñ–∞—Ü—ñ—ó)

## üëë –£–ø—Ä–∞–≤–ª—ñ–Ω–Ω—è –∞–¥–º—ñ–Ω—ñ—Å—Ç—Ä–∞—Ç–æ—Ä–∞–º–∏

- –ú–æ–∂–Ω–∞ –¥–æ–¥–∞–≤–∞—Ç–∏/–≤–∏–¥–∞–ª—è—Ç–∏ –∞–¥–º—ñ–Ω—ñ—Å—Ç—Ä–∞—Ç–æ—Ä—ñ–≤ —á–µ—Ä–µ–∑ –∞–¥–º—ñ–Ω-–ø–∞–Ω–µ–ª—å
- –Ñ –∫–Ω–æ–ø–∫–∞ –¥–ª—è **–∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ–≥–æ –¥–æ–¥–∞–≤–∞–Ω–Ω—è –≤—Å—ñ—Ö –∞–¥–º—ñ–Ω—ñ—Å—Ç—Ä–∞—Ç–æ—Ä—ñ–≤ –ø–æ—Ç–æ—á–Ω–æ–≥–æ —á–∞—Ç—É** –¥–æ –∞–¥–º—ñ–Ω—ñ–≤ –±–æ—Ç–∞
- –ê–¥–º—ñ–Ω—ñ—Å—Ç—Ä–∞—Ç–æ—Ä—ñ–≤, –¥–æ–¥–∞–Ω–∏—Ö —á–µ—Ä–µ–∑ `.env`, –≤–∏–¥–∞–ª—è—Ç–∏ –Ω–µ –º–æ–∂–Ω–∞ (–≤–æ–Ω–∏ –≤–≤–∞–∂–∞—é—Ç—å—Å—è –ø–æ—Å—Ç—ñ–π–Ω–∏–º–∏)

## ‚öôÔ∏è –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è

1. –í—Å—Ç–∞–Ω–æ–≤—ñ—Ç—å –∑–∞–ª–µ–∂–Ω–æ—Å—Ç—ñ:

    ```bash
    uv sync
    ```

2. –°—Ç–≤–æ—Ä—ñ—Ç—å —Ñ–∞–π–ª `.env`:

    ```env
    BOT_TOKEN=your_bot_token_here
    ADMIN_IDS=123456789,987654321
    MUTE_DURATION_DAYS=2
    BAN_DURATION_DAYS=30
    ```

    –§–æ—Ä–º–∞—Ç `ADMIN_IDS`:
    - –æ–¥–∏–Ω ID: `ADMIN_IDS=123456789`
    - –¥–µ–∫—ñ–ª—å–∫–∞ ID —á–µ—Ä–µ–∑ –∫–æ–º—É: `ADMIN_IDS=123456789,987654321,555666777`

3. –ó–∞–ø—É—Å—Ç—ñ—Ç—å –±–æ—Ç–∞:

    ```bash
    uv run python main.py
    ```

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç—É

```tree
tg_spam_bot/
‚îú‚îÄ‚îÄ core/
‚îÇ   ‚îú‚îÄ‚îÄ admin.py        # –ê–¥–º—ñ–Ω-–ø–∞–Ω–µ–ª—å (–º–µ–Ω—é, –ø–µ—Ä–µ—Å–∏–ª–∞–Ω–Ω—è, –∫–µ—Ä—É–≤–∞–Ω–Ω—è)
‚îÇ   ‚îú‚îÄ‚îÄ bot.py          # –Ü–Ω—ñ—Ü—ñ–∞–ª—ñ–∑–∞—Ü—ñ—è —Ç–∞ –∑–∞–ø—É—Å–∫ –±–æ—Ç–∞
‚îÇ   ‚îî‚îÄ‚îÄ handlers.py     # –ì–ª–æ–±–∞–ª—å–Ω—ñ –æ–±—Ä–æ–±–Ω–∏–∫–∏ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω—å (–≤–∏–¥–∞–ª–µ–Ω–Ω—è/–º'—é—Ç/–±–∞–Ω)
‚îú‚îÄ‚îÄ models/
‚îÇ   ‚îî‚îÄ‚îÄ settings.py     # –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è —Ç–∞ –∑–±–µ—Ä–µ–∂–µ–Ω–Ω—è/–∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è –∞–¥–º—ñ–Ω—ñ—Å—Ç—Ä–∞—Ç–æ—Ä—ñ–≤
‚îú‚îÄ‚îÄ utils/
‚îÇ   ‚îî‚îÄ‚îÄ regex.py        # –§—ñ–ª—å—Ç—Ä —Å–ø–∞–º—É (regex), –∫–µ—Ä—É–≤–∞–Ω–Ω—è –ø–∞—Ç–µ—Ä–Ω–∞–º–∏
‚îú‚îÄ‚îÄ filters.json        # –ë–∞–∑–æ–≤—ñ —Ñ—ñ–ª—å—Ç—Ä–∏ (—Ä–µ–≥—É–ª—è—Ä–Ω—ñ –≤–∏—Ä–∞–∑–∏)
‚îú‚îÄ‚îÄ patterns.json       # –î–æ–¥–∞—Ç–∫–æ–≤—ñ (–¥–∏–Ω–∞–º—ñ—á–Ω—ñ) —Ñ—ñ–ª—å—Ç—Ä–∏ ‚Äî —Å—Ç–≤–æ—Ä—é—î—Ç—å—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ
‚îú‚îÄ‚îÄ admins.json         # –î–∏–Ω–∞–º—ñ—á–Ω—ñ –∞–¥–º—ñ–Ω—ñ—Å—Ç—Ä–∞—Ç–æ—Ä–∏ ‚Äî —Å—Ç–≤–æ—Ä—é—î—Ç—å—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ
‚îú‚îÄ‚îÄ env.example         # –ü—Ä–∏–∫–ª–∞–¥ –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω—å
‚îú‚îÄ‚îÄ .env                # –í–∞—à—ñ –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è (—Å—Ç–≤–æ—Ä—ñ—Ç—å —Å–∞–º—ñ)
‚îî‚îÄ‚îÄ main.py             # –¢–æ—á–∫–∞ –≤—Ö–æ–¥—É
```

## üîí –ë–µ–∑–ø–µ–∫–∞

- –í—Å—ñ –∞–¥–º—ñ–Ω-–¥—ñ—ó –¥–æ—Å—Ç—É–ø–Ω—ñ –ª–∏—à–µ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞–º —ñ–∑ `ADMIN_IDS`
- `ADMIN_IDS` –∑–∞–≤–∞–Ω—Ç–∞–∂—É—é—Ç—å—Å—è –∑ `.env` (–Ω–µ –∑–±–µ—Ä—ñ–≥–∞—é—Ç—å—Å—è —É –∫–æ–¥—ñ)
- –î–∏–Ω–∞–º—ñ—á–Ω—ñ –∞–¥–º—ñ–Ω—ñ—Å—Ç—Ä–∞—Ç–æ—Ä–∏ –∑–±–µ—Ä—ñ–≥–∞—é—Ç—å—Å—è —É `admins.json`
- –ê–¥–º—ñ–Ω—ñ—Å—Ç—Ä–∞—Ç–æ—Ä—ñ–≤ —ñ–∑ `.env` –≤–∏–¥–∞–ª—è—Ç–∏ —á–µ—Ä–µ–∑ –±–æ—Ç–∞ –Ω–µ –º–æ–∂–Ω–∞
- –ë–æ—Ç –Ω–µ –±–∞–Ω–∏—Ç—å –∞–¥–º—ñ–Ω—ñ—Å—Ç—Ä–∞—Ç–æ—Ä—ñ–≤ —á–∞—Ç—É
- –§–∞–π–ª–∏ –∑ –¥–∏–Ω–∞–º—ñ—á–Ω–∏–º–∏ –¥–∞–Ω–∏–º–∏ (`patterns.json`, `admins.json`) –¥–æ–¥–∞–Ω—ñ –≤ `.gitignore`

## üõ†Ô∏è –õ–æ–≥—ñ–∫–∞ —Ä–æ–±–æ—Ç–∏ –±–ª–æ–∫—É–≤–∞–Ω–Ω—è

- **–ü–æ—Ä—É—à–Ω–∏–∫ –ø—ñ—Å–ª—è –≤–∏–¥–∞–ª–µ–Ω–Ω—è –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –æ—Ç—Ä–∏–º—É—î –º‚Äô—é—Ç** (–Ω–µ –º–æ–∂–µ –ø–∏—Å–∞—Ç–∏, –∞–ª–µ –±–∞—á–∏—Ç—å —á–∞—Ç) –Ω–∞ –ø–µ—Ä—ñ–æ–¥ `MUTE_DURATION_DAYS`
- **–ê–¥–º—ñ–Ω—ñ—Å—Ç—Ä–∞—Ç–æ—Ä –º–æ–∂–µ**:
    - –ó–Ω—è—Ç–∏ –º‚Äô—é—Ç (–∫–Ω–æ–ø–∫–∞ ¬´–ü–æ–≤–µ—Ä–Ω—É—Ç–∏¬ª ‚Äî –ø–æ–≤–µ—Ä—Ç–∞—î –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è —Ç–∞ —Ä–æ–∑–º‚Äô—é—á—É—î –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞)
    - –ó–∞–±–∞–Ω–∏—Ç–∏ –Ω–∞ –ø–µ—Ä—ñ–æ–¥ `BAN_DURATION_DAYS` (–∫–Ω–æ–ø–∫–∞ ¬´–ó–∞–±–∞–Ω–∏—Ç–∏¬ª ‚Äî –≤–∏–¥–∞–ª—è—î –∑ –≥—Ä—É–ø–∏)